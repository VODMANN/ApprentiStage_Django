{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js'></script>

<div class="container mt-4">
  <div class="row">
    <div class="col-md-12">
      <div id='calendar'></div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-md-12 text-center">
      <a href="{% url 'lesApprentiStage:export_calendar' %}" class="btn btn-success">Exporter le calendrier</a>
    </div>
  </div>
</div>

<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/main.min.js'></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      initialView: 'timeGridWeek',
      events: '/api/calendar_events/',
    });

    calendar.render();
  });
</script>
{% endblock %}
